# ğŸ” TryHackMe â€” Basic Pentesting  
**Status:** Rooted  
**Date:** 19 October 2025  
**Methodology:** Black Box Pentest  
**Source:** THM Lab Environment (Authorized)

---

# 1. Executive Summary
During the assessment of the *Basic Pentesting* machine (10.10.162.129), several weaknesses were identified across SSH, SMB, and web directories.  
By chaining multiple misconfigurationsâ€”weak passwords, exposed private keys, and insecure permissionsâ€”the machine was fully compromised.

This mirrors real-world scenarios involving poor credential hygiene and improper access control.

ğŸ“Œ **Final Result:** *Full compromise (user & escalated access)*

---

# 2. Scope & Authorization

Testing performed entirely within TryHackMeâ€™s controlled environment.  

---

# 3. Methodology & Tools


| Tool | Purpose |
|------|---------|
| nmap | Port & service enumeration |
| gobuster | Directory enumeration |
| enum4linux | SMB enumeration |
| hydra | SSH brute-force |
| ssh2john + john | SSH key cracking |
| linpeas | PrivEsc enumeration |

---

# 4. Key Findings

### ğŸ”¹ 1. Weak Credentials (SSH brute-force succeeded)

Hydra successfully brute-forced SSH for user `jan`.  


### ğŸ”¹ 2. SMB Misconfiguration

Anonymous SMB access revealed internal usernames `kay` and `jan`.  

### ğŸ”¹ 3. Exposed SSH Private Key (Critical)

Readable private key located in `/home/kay/.ssh/id_rsa`, recovered after cracking passphrase.  

### ğŸ”¹ 4. Insecure Web Directory

`/development` contained developer info useful for enumeration.  

---

# 5. Exploitation Walkthrough

### ğŸ”¸ Port Scan
```
nmap -sC -sV 10.10.162.129
```
Services found: SSH, HTTP, SMB, Tomcat.  

---

### ğŸ”¸ Directory Busting
```
gobuster dir -u http://10.10.162.129 -w directory-list-2.3-medium.txt
```
Discovered `/development` with developer notes.  

---

### ğŸ”¸ SMB Enumeration
```
enum4linux -a 10.10.162.129
```
Leaked valid usernames.  


---

### ğŸ”¸ SSH Brute-force
```
hydra -l jan -P rockyou.txt 10.10.162.129 ssh
```
Password recovered for user `jan`.  

---

### ğŸ”¸ Private Key Extraction

Found `id_rsa` in kayâ€™s home directory.  
Converted â†’ cracked â†’ logged in as kay.  

---

# 6. Privilege Escalation

Although root wasnâ€™t required for flag extraction, privilege escalation was effectively achieved via:

- exposed SSH key  
- cracked passphrase  
- access to sensitive files  


# 7. Recommendations

- Enforce strong password policies  
- Restrict permissions on `.ssh` and key files  
- Remove anonymous SMB shares  
- Rate limit SSH authentication attempts  
- Remove sensitive files from web directories  

---

# 8. Lessons Learned

- Manual enumeration is essential  
- Weak keys and poor file permissions remain top real-world attack vectors  
- Credential reuse & key mismanagement are major risks  
